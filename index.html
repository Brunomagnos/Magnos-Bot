<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;">
    <title>Meu Bot de WhatsApp</title>
    <style>
        /* Estilos anteriores (reset, body, header, container, panels, h2, etc.) */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            background-color: #f4f7f6;
            color: #333;
            display: flex;
            flex-direction: column;
            height: 100vh;
        }
        .app-header { background-color: #075E54; color: white; padding: 12px 20px; font-size: 1.2em; font-weight: 500; box-shadow: 0 2px 4px rgba(0,0,0,0.2); z-index: 10; }
        .main-container { display: flex; flex-grow: 1; padding: 15px; gap: 15px; overflow: hidden; }
        .panel { background-color: #ffffff; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); padding: 20px; display: flex; flex-direction: column; overflow: hidden; }
        .left-panel { flex: 0 0 350px; gap: 15px; display: flex; flex-direction: column; }
        .right-panel { flex: 1; min-width: 0; display: flex; flex-direction: column; gap: 15px; /* Adicionado Gap */}
        h2 { font-size: 1.15em; font-weight: 600; color: #128C7E; margin-top: 0; margin-bottom: 15px; padding-bottom: 8px; border-bottom: 2px solid #ECE5DD; }
        button { /* Estilo base para botões */
             padding: 10px 15px; font-size: 0.95em; font-weight: 500; cursor: pointer;
             background-color: #128C7E; color: white; border: none; border-radius: 5px;
             transition: background-color 0.2s ease, transform 0.1s ease; text-align: center;
             box-shadow: 0 1px 3px rgba(0,0,0,0.2); margin-bottom: 5px;
        }
        button:hover { background-color: #0F6D61; }
        button:active { transform: scale(0.98); }
        button:disabled { background-color: #999; cursor: not-allowed; }

        #startButton { background-color: #25D366; border-radius: 25px; padding: 12px 20px; font-size: 1em; margin-bottom: 10px; }
        #startButton:hover { background-color: #1DAE53; }

        #status-area { font-size: 0.95em; text-align: center; margin-bottom: 10px;}
        .status { font-weight: bold; padding: 4px 10px; border-radius: 15px; display: inline-block; margin-top: 5px; transition: background-color 0.3s ease; }
        .status-disconnected { background-color: #d9534f; color: white;}
        .status-initializing, .status-generating-qr { background-color: #f0ad4e; color: #333;}
        .status-scanning { background-color: #5bc0de; color: white;}
        .status-authenticated, .status-connected { background-color: #5cb85c; color: white;}
        .status-error { background-color: #d9534f; color: white;}
        .status-default { background-color: #777; color: white; }

        .qr-panel { flex-grow: 1; }
        #qr-code-container { flex-grow: 1; display: flex; align-items: center; justify-content: center; background-color: #f0f0f0; border-radius: 5px; padding: 10px; min-height: 200px; }
        #qr-code-image { max-width: 100%; max-height: 240px; display: none; border: 1px solid #ddd; background-color: white; }
        #qr-placeholder { color: #6c757d; font-size: 0.9em; text-align: center; }

        /* Estilos painel de configuração */
        .config-panel { flex-grow: 1; }
        #configTextArea {
            flex-grow: 1; width: 100%; font-family: Consolas, 'Courier New', monospace;
            font-size: 0.9em; border: 1px solid #ccc; border-radius: 4px;
            padding: 10px; margin-bottom: 10px; resize: vertical; min-height: 150px;
        }
        #saveConfigButton {} /* Usa estilo base de botão */


        .log-panel { flex-grow: 2; } /* Faz o log ocupar mais espaço */
        #logs {
            flex-grow: 1; overflow-y: auto; background-color: #e9ecef; border: 1px solid #dee2e6;
            border-radius: 5px; padding: 10px; font-family: Consolas, 'Courier New', Courier, monospace;
            font-size: 0.85em; line-height: 1.4; color: #495057; white-space: pre-wrap; word-wrap: break-word;
            min-height: 100px; /* Altura mínima para logs */
        }
        .log-entry { margin-bottom: 2px; padding-bottom: 2px; border-bottom: 1px dotted #ccc; }
        .log-entry:last-child { border-bottom: none; }
    </style>
</head>
<body>
    <div class="app-header">Meu Bot App</div>

    <div class="main-container">
        <div class="left-panel">
            <div class="panel">
                <h2>Controle & Status</h2>
                <button id="startButton">Iniciar Bot</button>
                <div id="status-area">Status: <span id="status" class="status status-disconnected">Desconectado</span></div>
                <button id="checkUpdateButton">Verificar Atualizações</button>
            </div>
            <div class="panel qr-panel">
                 <h2>QR Code Conexão</h2>
                 <div id="qr-code-container">
                     <img id="qr-code-image" src="" alt="Scan QR Code">
                     <span id="qr-placeholder">Clique 'Iniciar Bot' para gerar</span>
                 </div>
            </div>
        </div>

        <div class="right-panel">
            <!-- **** NOVO PAINEL DE CONFIGURAÇÃO **** -->
            <div class="panel config-panel">
                 <h2>Configuração de Respostas</h2>
                 <p style="font-size: 0.85em; color: #666; margin-bottom: 10px;">
                     Use formato JSON. Chave: Mensagem exata a receber. Valor: Resposta a enviar.<br>
                     Exemplo: <code>{ "!ping": "pong", "ola": "Olá! Como posso ajudar?" }</code>
                 </p>
                 <textarea id="configTextArea" placeholder='Cole ou digite a configuração JSON aqui...'></textarea>
                 <button id="saveConfigButton">Salvar Configuração</button>
            </div>
             <!-- **** FIM DO PAINEL DE CONFIGURAÇÃO **** -->

            <div class="panel log-panel">
                 <h2>Console de Logs</h2>
                 <div id="logs"></div>
            </div>
        </div>
    </div>

    <script src="./renderer.js"></script>
</body>
</html>