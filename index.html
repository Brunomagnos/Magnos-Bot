<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- Atualizando CSP para incluir 'unsafe-inline' para estilos, o que não é ideal para produção mas simplifica aqui -->
    <!-- Uma solução melhor seria separar o CSS em um arquivo, mas vamos manter simples -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:;">
    <title>Meu Bot de WhatsApp</title>
    <style>
        /* Reset básico e Fonte */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            background-color: #f4f7f6; /* Fundo levemente acinzentado/verdeado */
            color: #333;
            display: flex;
            flex-direction: column;
            height: 100vh; /* Ocupa toda a altura da viewport */
        }

        /* Cabeçalho */
        .app-header {
            background-color: #075E54; /* Verde WhatsApp */
            color: white;
            padding: 12px 20px;
            font-size: 1.2em;
            font-weight: 500;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            z-index: 10; /* Para ficar sobre o conteúdo */
        }

        /* Layout Principal (Flexbox) */
        .main-container {
            display: flex;
            flex-grow: 1; /* Ocupa o espaço restante */
            padding: 15px;
            gap: 15px; /* Espaço entre painéis */
            overflow: hidden; /* Importante para painéis com scroll */
        }

        /* Painéis */
        .panel {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
            padding: 20px;
            display: flex;
            flex-direction: column;
            overflow: hidden; /* Esconde overflow interno */
        }

        .left-panel {
            flex: 0 0 320px; /* Largura fixa à esquerda */
            gap: 15px;
            display: flex;
            flex-direction: column;
        }

        .right-panel {
            flex: 1; /* Ocupa o restante da largura */
            min-width: 0; /* Necessário para flexbox com overflow */
        }

        /* Títulos nos Painéis */
        h2 {
            font-size: 1.15em;
            font-weight: 600;
            color: #128C7E; /* Verde mais claro */
            margin-top: 0;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #ECE5DD; /* Cinza claro WhatsApp */
        }

        /* Botão */
        #startButton {
            padding: 12px 20px;
            font-size: 1em;
            font-weight: 500;
            cursor: pointer;
            background-color: #25D366; /* Verde mais claro WhatsApp */
            color: white;
            border: none;
            border-radius: 25px; /* Botão arredondado */
            transition: background-color 0.2s ease, transform 0.1s ease;
            margin-bottom: 15px; /* Espaço abaixo do botão */
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        #startButton:hover { background-color: #1DAE53; }
        #startButton:active { transform: scale(0.98); } /* Efeito de clique */
        #startButton:disabled { background-color: #999; cursor: not-allowed; }

        /* Área de Status */
        #status-area { font-size: 0.95em; text-align: center; }
        .status { font-weight: bold; padding: 4px 10px; border-radius: 15px; display: inline-block; margin-top: 5px; transition: background-color 0.3s ease; }
        .status-disconnected { background-color: #d9534f; color: white;} /* Vermelho */
        .status-initializing, .status-generating-qr { background-color: #f0ad4e; color: #333;} /* Laranja */
        .status-scanning { background-color: #5bc0de; color: white;} /* Azul claro */
        .status-authenticated, .status-connected { background-color: #5cb85c; color: white;} /* Verde */
        .status-error { background-color: #d9534f; color: white;} /* Vermelho */
        .status-default { background-color: #777; color: white; } /* Cinza */

        /* Área do QR Code */
        .qr-panel { flex-grow: 1; } /* Ocupa espaço restante no painel esquerdo */
        #qr-code-container {
            flex-grow: 1; /* Ocupa espaço dentro do painel */
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #f0f0f0;
            border-radius: 5px;
            padding: 10px;
            min-height: 200px; /* Altura mínima */
        }
        #qr-code-image {
            max-width: 100%;
            max-height: 240px; /* Limita altura da imagem */
            display: none; /* Começa escondido */
            border: 1px solid #ddd;
            background-color: white; /* Fundo branco para o QR */
        }
        #qr-placeholder { color: #6c757d; font-size: 0.9em; }

        /* Área de Logs */
        .log-panel { flex-grow: 1; } /* Ocupa todo espaço do painel direito */
        #logs {
            flex-grow: 1; /* Ocupa espaço dentro do painel */
            overflow-y: auto; /* Habilita scroll vertical */
            background-color: #e9ecef;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            font-family: Consolas, 'Courier New', Courier, monospace; /* Fonte monoespaçada para logs */
            font-size: 0.85em;
            line-height: 1.4;
            color: #495057;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        .log-entry { margin-bottom: 2px; padding-bottom: 2px; border-bottom: 1px dotted #ccc; }
        .log-entry:last-child { border-bottom: none; } /* Remove borda do último item */
    </style>
</head>
<body>
    <div class="app-header">
       Meu Bot App
    </div>

    <div class="main-container">
        <div class="left-panel">
            <div class="panel">
                <h2>Controle & Status</h2>
                <button id="startButton">Iniciar Bot</button>
                <div id="status-area">Status: <span id="status" class="status status-disconnected">Desconectado</span></div>
            </div>
            <div class="panel qr-panel"> <!-- Painel QR com estilo de crescimento -->
                 <h2>QR Code Conexão</h2>
                 <div id="qr-code-container">
                     <img id="qr-code-image" src="" alt="Scan QR Code">
                     <span id="qr-placeholder">Clique 'Iniciar Bot' para gerar</span>
                 </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="panel log-panel"> <!-- Painel Logs com estilo de crescimento -->
                 <h2>Console de Logs</h2>
                 <div id="logs"></div>
            </div>
        </div>
    </div>

    <script src="./renderer.js"></script>
</body>
</html>